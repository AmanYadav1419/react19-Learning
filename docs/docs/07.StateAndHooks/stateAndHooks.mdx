## STATE

- State is a way to store and manage data that can change over time and affects how the component renders.
- We define state using `useState` Hook, which allows you to set an initial value and provides a way to update that state.

- this says the word `Hook` , so what are hooks and why should we care about that.

## HOOKS

- Hooks are a new addition in React 16.8.
- They let you use state and other React features without writing a class (or to be specific `class based component`).
- Hooks are allowed to manage our state inside the functional component.
- and there are alot of `Hooks` in React, but for now we are now covering about `useState` Hook.

## useState() Hook :-

- useState Hook allows us to track state in a functional component.
- State generally refers to data or properties that need to be tracking in an application.
- So for using Hook in our functional component we need to import the hook from react.

- here how the syntax will look like ðŸ‘‡

```jsx
const [data, changeData] = useState();
```

- here is the example with explanation of how to use useState hook ðŸ‘‡

```jsx
//  step 1 : import the useState hook from react to use it.
import { useState } from "react";

const StateAndHooks = () => {
  // step 2 : use the useState hook in component/project.
  // for that we use array destrcutring as useState hook,
  // in that first is value and second is function to update the value
  // and inside the useState hook we pass the initial value , so that the initial value is assign to the value.

  // some naming convention you can follow for best practices :-
  // the value and function name should be same
  // but for that before writing function name must use `set` word after that the first letter of the word is captial.
  // for live example, we write `count` as value and for function we write like this `setCount`
  // it follows the cleaner code naming conventions

  const [count, setCount] = useState(0);

  // step 4 : started writing and completeing the onClick function handler
  const increamentHandler = () => {
    // this function only take the setCount function
    // and remember the setCount is a fn which where allows us to change the value or update the value of initialValue.

    // so here is that how we can do this
    // to update the count for increment purpose we will simply write `count + 1` inside our setCount function.
    setCount(count + 1);
  };

  // step 6 : started writing and completeing the onClick function handler
  const decreamentHandler = () => {
    // this function only take the setCount function
    // and remember the setCount is a fn which where allows us to change the value or update the value of initialValue.
    // so here is that how we can do this
    // to update the count for decrement purpose we will simply write `count - 1` inside our setCount function.

    setCount(count - 1);
  };

  // note :- anytime we change the value of our state by using the setCount method or any set method,
  // it's gonna re-render our application.

  return (
    <div>
      {/* so now i want to render what i currently have i.e count */}
      {/* so i just open curly brackets to work with jsx part with that to update the values dyanmically */}
      <h1>{count}</h1>

      {/* step 3 : creating button to update the value of count */}

      {/* so now to update the value of count we will doing like this */}
      {/* so in that we are attaching and accessing onClick event handler to the button  */}
      {/* and based on that so somebody clicks on the button so we are gonna excuting this function  */}
      {/* inside the onClick we are passing a function name so that this will excute when clicked */}
      <button onClick={increamentHandler}>+</button>

      {/* step 5 : creating decrement button with attching onClick event to it. */}
      {/* similar with that we can create decrement button as well */}
      {/* all the structure is same just we have logic change */}
      {/* instead of increment logic we have to define decrement logic */}
      <button onClick={decreamentHandler}>-</button>
    </div>
  );
};

export default StateAndHooks;
```

- note :- anytime we change the value of our state by using the setCount method or any set method, it's gonna re-render our application.

- now i will give you one more example how we can update the array of content.

- the code present in UpdateArrayWithUseState.jsx file.
- to use this component , import the `UpdateArrayWithUseState` component to `App.jsx` file.
- still for better understanding, here is how we can do this the code part ðŸ‘‡

```jsx
// step 1 : import the useState hook from react to use it.
import { useState } from "react";

const UpdateArrayWithUseState = () => {
  // step 2 : use the useState hook and initialised with provding array of my friends name to it.
  // by following all the naming convention for using useState Hook.
  const [friends, setFriends] = useState(["Alex", "John", "Trion"]);

  // step 5 : function that for adding new friend to array.
  const addOneFriend = () => {
    // now to mutate the array we are gonna use setFriends function.
    // and inside that we don't wana change the exisiting data we just wana to clone the data so use spread operator here inside the setFriends function.
    // and then to add new data just by seperating with comma and then adding the data of friend.
    return setFriends([...friends, "Aman Yadav"]);
  };

  // step 7 : function that for removing friend from array.
  const removeOneFriend = () => {
    // now to mutate the array we are gonna use setFriends function.
    // so now we used filter method to remove the 'John' from the friends array.
    setFriends(friends.filter((f) => f !== "John"));
  };

  // step 9 : function that for updating friend to array.
  const updateOneFriend = () => {
    // now to mutate the array we are gonna use setFriends function.
    // so for that to update friend name we are iterating over through the friends array.
    // and finding the specific friend name 'Alex' and then chaning the name to 'Smith', by using ternary operator.
    // and if name not found then we just want to stays as it is.
    setFriends(friends.map((f) => (f === "Alex" ? "Smith" : f)));
  };

  // step 3 : now render the names by iterating through the array.
  return (
    <section>
      {friends.map((friend) => {
        return <li key={Math.random()}>{friend}</li>;
      })}

      {/* step 4 : now the list looks amazing , but now if we want to add more names to it */}
      {/* for that we are creating button to add new friends names to array */}
      {/* for that attaching onClick event handler to the button and passing a function to it, the function will do the task of adding new friend */}
      <button onClick={addOneFriend}>Add New Friend</button>

      {/* step 6 : now the list looks amazing , but now if we want to remove friend name to it */}
      {/* for that we are creating button to removing friend name to array */}
      {/* for that attaching onClick event handler to the button and passing a function to it, the function will do the task of removing friend */}
      <button onClick={removeOneFriend}>Remove One Friend</button>

      {/* step 8 : now the list looks amazing , but now if we want to update friend name to it */}
      {/* for that we are creating button to update friend name to array */}
      {/* for that attaching onClick event handler to the button and passing a function to it, the function will do the task of updating friend name */}
      <button onClick={updateOneFriend}>Update One Friend</button>
    </section>
  );
};

export default UpdateArrayWithUseState;
```

- now in some situations we have array of objects for that i will give you one more example how we can update the object of content with useState.

- here is the code for it ðŸ‘‡

```jsx
// step 1 : import the useState hook from react to use it.
import { useState } from "react";

const UpdateObjectWithUseState = () => {
  // step 2 : use the useState hook and initialised with provding object of movies to it.
  // by following all the naming convention for using useState Hook.
  // here we are using object to update the movie details.
  // and for the object we are passing title and rating to it.

  const [movie, setMovie] = useState({
    title: "Inception",
    ratings: 6,
  });

  // step 5 : function that for updating/changing the rating of the movie.
  const changeRatings = () => {
    // now inside this we are updating only the ratings , nothing else.
    // this is more shorter way and easy to understand.
    // then we are using setMovie fn that allows us to update the movie object.
    // and for that we are using spread operator to copy the existing object and then updating the ratings.
    setMovie({ ...movie, ratings: 9 });
  };

  // step 3 : now let me render that to the ui
  return (
    <section>
      <h1>Movie Title : {movie.title}</h1>
      <p>Movie Rating : {movie.ratings}</p>

      {/* step 4 : now the movie and rating looks amazing , but now if we want to channge ratings to it */}
      {/* now let me add the button which will update the rating of the movie. */}
      {/* for that we are creating button to change ratings of the movie to object */}
      {/* for that attaching onClick event handler to the button and passing a function to it, the function will do the task of change ratings of the movie to object */}
      <button onClick={changeRatings}>Change Rating</button>
    </section>
  );
};

export default UpdateObjectWithUseState;
```

- now i will give you one more example how we can update the array of objects with useState.

```jsx
// step 1 : import the useState hook from react to use it.
import { useState } from "react";

const UpdateArrayOfObjectsWithUseState = () => {
  // step 2 : we are gonna use useState hook and initialised with array of object to it.
  // and inside that we are gonna pass the array of objects like that below code.
  const [movies, setMovies] = useState([
    {
      id: 1,
      title: "Spiderman",
      ratings: 5,
    },
    {
      id: 2,
      title: "Superman",
      ratings: 7,
    },
  ]);

  // step 5 : function for updating movie name
  const updateMovieName = () => {
    // now to mutate the array we are gonna use setMovies function.
    // so for that to update movie name we are iterating over through the movies array of objects with the help of using map.
    // so if m.id is strictyly equal to 1 , then we want to change or update it.
    // but before that we make an copy of movie , then specify the change here in this case to change title/Name
    // and if not that the case then return all the movies. i.e in this is 'm'
    setMovies(
      movies.map((m) => (m.id === 1 ? { ...movies, title: "John Wick 5" } : m))
    );
  };

  // step 3 : now we have to iterate to array of objects and we have to render that
  return (
    <section>
      {movies.map((movie) => (
        <li key={movie.id}>{movie.title}</li>
      ))}

      {/* step 4 : now the list looks amazing , but now if we want to update movie names to it */}
      {/* for that we are creating button to update name to array of objects */}
      {/* for that attaching onClick event handler to the button and passing a function to it, the function will do the task of updating movie name */}
      <button onClick={updateMovieName}>Change Name</button>
    </section>
  );
};

export default UpdateArrayOfObjectsWithUseState;
```

- but now in some situations we need to pass the function or arrow function to our state as initial value.
- now i will give you one more example how we can pass the function or arrow function to our state with useState as initial value.

- here is the code ðŸ‘‡

```jsx
// to use this component , import the `PassArrowFunctionToUseState` component to `App.jsx` file.
// in this i am not writings more comments anymore now you are matured enough and now you can understand the useState better.
// just writing some comments where it is necessary.

import { useState } from "react";

const PassArrowFunctionToUseState = () => {
  // in that usestate we are passing the callback function.
  // below is the code ðŸ‘‡

  // this callback function only runs when our component first renders.
  // so all the logic i write inside the callback function , it only runs for the first renders.
  // and then returning the initialCount
  const [count, setCount] = useState(() => {
    const initialCount = 10;
    return initialCount;
  });

  // now we are creating function that will increment the count.
  const handleIncrementOfInitialCount = () => {
    // and now inside that we are using our setCount function to update the state
    // by passing and updating the , here is how we can do it ðŸ‘‡
    setCount((prevCount) => prevCount + 1);
  };

  // now we have to render it.
  return (
    <div>
      <h1>Initial Count :- {count}</h1>

      {/* now we have to create a button , which will allows us to increment the count */}
      {/* for that we are using onClick on button and passing a function to it, the function will do the task. */}
      <button onClick={handleIncrementOfInitialCount}>
        Increment of InitialCount
      </button>
    </div>
  );
};

export default PassArrowFunctionToUseState;
```

- here is the another example of callback function passed in useState.
- here is the code ðŸ‘‡

```jsx
// here is the another example of callback function passed in useState
// to use this component , import the `PassArrowFunctionToUseState` component to `App.jsx` file.
// in this i am not writings more comments anymore now you are matured enough and now you can understand the useState better.
// just writing some comments where it is necessary.

import { useState } from "react";

const PassArrowFunctionToUseState2 = () => {
  // in that callback function we use Math.random() method to generate random number that ranges from 0 to 1.
  // and then we are multiply the number to 100, so that the number ranges will start from 0 to 100
  // but this will give number in points like this 89.90 so to remove point values we use Math.floor() method to get the number part only.
  const [randomNumber, setRandomNumber] = useState(() => {
    Math.floor(Math.random() * 100);
  });

  // now we are creating a function that will generate random number.
  const generateRandomNumber = () => {
    // and inside this function we are using setRandomNumber function
    // to update the state and shows it to ui.
    // for that we are creating and storing random number to variable.
    const newNumber = Math.floor(Math.random() * 100);
    // after that we are passing that variable to setRandomNumber to update the state.
    setRandomNumber(newNumber);
  };

  // and then we are just rendering the random number.
  return (
    <div>
      <h1>Random Number : {randomNumber}</h1>
      <p>
        Press the CTRl + R OR reload the page ,to change the number randomly
        without any button.
      </p>

      {/* now we have to create a button , which will allows us to generate the random Number */}
      {/* for that we are using onClick on button and passing a function to it, the function will do the task. */}
      <button onClick={generateRandomNumber}>Generate Random Number</button>
    </div>
  );
};

export default PassArrowFunctionToUseState2;
```
